# buck2-report

Analyze and format Buck2 build reports with detailed statistics and insights.

## Overview

`buck2-report` parses JSON build reports generated by Buck2's `--build-report` flag and produces:
- Human-readable console summaries
- JSON statistics for programmatic processing
- Markdown reports suitable for CI/CD integration

## Usage

```bash
# Generate a build report with Buck2
buck2 build --build-report report.json //...

# View console summary
buck2-report report.json

# Generate JSON output
buck2-report --format json report.json

# Save markdown report for CI
buck2-report --format markdown --output summary.md report.json
```

## Statistics Provided

- **Build Metadata**: Trace ID, project root, success status, truncation info
- **Summary Statistics**: Total targets, success/failure counts, success rate percentage
- **Dependency Graph Analysis**: Total nodes, average/median graph sizes, top 10 largest graphs
- **Target Type Breakdown**: Categorized by executable, library, test, platform, container with percentages
- **Cell Distribution**: Multi-cell project breakdown (when applicable)
- **Failed Target Details**: Complete error messages and target information

## Output Formats

### Console (default)
Colorized, human-readable terminal output with emojis, sections, and visual separators.

### JSON
Comprehensive structured data including:
- Complete build metadata and status
- Detailed graph analysis with top 10 largest dependency graphs
- Target breakdowns by type and cell with counts and percentages
- Full failed target information with error details
- Ideal for programmatic processing and CI/CD integration

### Markdown
Professional GitHub-compatible reports featuring:
- Metadata tables with build information
- Visual progress bars for type/cell distributions
- Ranked tables of largest dependency graphs
- Detailed failed target sections with error listings
- Timestamped generation info and footer

## Building

```bash
buck2 build //src/tools/buck2-report
```

## Running

```bash
buck2 run //src/tools/buck2-report -- build-report.json
```